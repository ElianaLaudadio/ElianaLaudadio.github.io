<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Training Dashboard ðŸ’ª</title>

  <!-- ATKINSON HYPERLEGIBLE -->
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #f5f4f2;
      --fg: #111111;
      --muted: #555555;
      --card-bg: #ffffff;
      --hover: #ece9e6;
      --border: #111111;
      --accent: #d9c7b1;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Atkinson Hyperlegible', sans-serif;
      background-color: var(--bg);
      color: var(--fg);
      padding-top: 80px;
      padding-bottom: 60px;
    }

    /* ---------- NAV ---------- */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: var(--bg);
      border-bottom: 2px solid var(--border);
      padding: 20px 0;
      text-align: center;
      z-index: 1000;
    }

    nav a {
      color: var(--fg);
      text-decoration: none;
      margin: 0 20px;
      font-weight: 700;
      font-size: 16px;
      position: relative;
    }

    nav a::after {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      width: 0%;
      height: 2px;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    nav a:hover::after {
      width: 100%;
    }

    #hamburger {
      display: none;
      font-size: 36px;
      cursor: pointer;
      color: var(--fg);
    }

    #mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: var(--bg);
      border-top: 2px solid var(--border);
      flex-direction: column;
      padding: 16px 0;
    }

    #mobile-menu a {
      display: block;
      padding: 14px 0;
      font-size: 18px;
    }

    /* ---------- SECTION ---------- */
    section {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .section-title {
      font-size: 32px;
      text-align: center;
      margin-bottom: 40px;
      font-weight: 700;
    }

    /* ---------- CARDS ---------- */
    .cards {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .card {
      background: var(--card-bg);
      border: 2px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transition: transform 0.2s ease, background 0.2s ease;
    }

    .card:hover {
      transform: translateY(-6px);
      background: var(--hover);
    }

    .card h3 {
      margin: 0;
      font-size: 20px;
      font-weight: 700;
    }

    /* ---------- MODAL ---------- */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      z-index: 2000;
      overflow-y: auto;
    }

    .modal-content {
      background: var(--card-bg);
      max-width: 90%;
      width: 560px;
      margin: 5% auto;
      padding: 0;
      border-radius: 18px;
      border: 2px solid var(--border);
    }

    .close {
      float: right;
      font-size: 26px;
      cursor: pointer;
      padding: 10px;
    }

    #modalTitle {
      text-align: center;
      margin: 10px 0;
      font-weight: 700;
    }

    .video-section {
      width: 100%;
    }

    .video-section h4 {
      display: none; /* hide title since instructions removed */
    }

    .video-embed {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 0;
      border: none;
    }

    /* ---------- NEW: INSTRUCTIONS + DIVIDER + YOUTUBE EMBED ---------- */
    .modal-body {
      padding: 18px 22px 22px;
    }

    .instructions-title {
      margin: 0 0 10px 0;
      font-size: 16px;
      font-weight: 700;
    }

    .steps-list {
      margin: 0 0 14px 18px;
      padding: 0;
      color: var(--fg);
    }

    .steps-list li {
      margin: 8px 0;
      line-height: 1.35;
    }

    .divider {
      border: none;
      border-top: 2px solid var(--border);
      margin: 16px 0;
    }

    .youtube-embed {
      width: 100%;
      aspect-ratio: 16 / 9;
      border: none;
      display: block;
      border-radius: 0;
    }

    /* ---------- MOBILE ---------- */
    @media (max-width: 600px) {
      nav a { display: none; }
      #hamburger { display: block; }
      .modal-content { margin: 10% auto; }
      .section-title { font-size: 28px; }
    }
  </style>
</head>

<body>

<nav>
  <a href="/myfolder/index.html">Home</a>
  <a href="/myfolder/template.html">Goals + Progress</a>
  <a href="/myfolder/workouts.html">Workouts</a>
  <a href="/myfolder/meal_planner.html">Meal Planner</a>

  <span id="hamburger">&#9776;</span>
  <div id="mobile-menu">
    <a href="/myfolder/index.html">Home</a>
    <a href="/myfolder/template.html">Goals + Progress</a>
    <a href="/myfolder/workouts.html">Workouts</a>
    <a href="/myfolder/meal_planner.html">Meal Planner</a>
  </div>
</nav>

<section>
  <h2 class="section-title">Chest</h2>
  <div class="cards" id="cards"></div>
</section>

<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle"></h3>

    <!-- NEW: instructions on top -->
    <div class="modal-body">
      <div class="instructions-title">Instructions</div>
      <ol class="steps-list" id="modalSteps"></ol>

      <hr class="divider" />

      <!-- NEW: embedded youtube video -->
      <iframe
        id="modalYoutube"
        class="youtube-embed"
        src=""
        title="YouTube video player"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    </div>

    <!-- keep this section in DOM but unused to avoid changing structure more than needed -->
    <div class="video-section" style="display:none;">
      <img
        id="modalImage"
        class="video-embed"
        src=""
        alt="Exercise demonstration image"
      />
    </div>
  </div>
</div>

<script>
  const workouts = [
    {
      title: "Bench Press",
      image: "/myfolder/photos/ShoulderPress.png",
      steps: [
        "Lie on the bench with eyes under the bar and feet planted firmly on the floor.",
        "Grip the bar slightly wider than shoulder width and set your shoulder blades back and down.",
        "Unrack the bar and lower it with control to mid-chest, keeping wrists stacked over elbows.",
        "Press the bar back up to the start position, maintaining tightness through your upper back."
      ],
      youtube: "https://www.youtube.com/shorts/hWbUlkb5Ms4"
    },
    {
      title: "Flies",
      image: "/myfolder/photos/LateralRaise.png",
      steps: [
        "Lie on a bench (or floor) holding dumbbells above your chest with palms facing each other and a slight bend in the elbows.",
        "Lower the dumbbells out wide in an arc until you feel a stretch across your chest (donâ€™t let elbows drop too low).",
        "Keep your shoulder blades pulled back and avoid shrugging as you lower.",
        "Bring the dumbbells back together over your chest along the same arc, squeezing your chest at the top."
      ],
      youtube: "https://www.youtube.com/shorts/xyK8UiC-BUw"
    },
    {
      title: "Push-Ups",
      image: "/myfolder/photos/FrontRaise.png",
      steps: [
        "Start in a plank with hands slightly wider than shoulder width, body in a straight line from head to heels.",
        "Brace your core and lower your chest toward the floor by bending your elbows (keep elbows at a comfortable angle, not flared straight out).",
        "Lower until your chest is just above the floor while maintaining a rigid body position.",
        "Press the floor away to return to the top, fully extending your elbows without letting hips sag."
      ],
      youtube: "https://www.youtube.com/shorts/h9xfpTrAvkE"
    },
    {
      title: "Incline Press",
      image: "/myfolder/photos/RearDeltFlys.png",
      steps: [
        "Set a bench to a slight incline and lie back with feet planted and shoulder blades pulled back and down.",
        "Start with dumbbells (or bar) at upper-chest level, elbows slightly in front of your body.",
        "Press up and slightly back until arms are extended, keeping control and avoiding excessive arching.",
        "Lower back down to upper-chest level with control, maintaining tension through your chest and shoulders."
      ],
      youtube: "https://www.youtube.com/shorts/LsT-bR_zxLo"
    },
    {
      title: "Floor Press",
      image: "/myfolder/photos/ArnoldPress.png",
      steps: [
        "Lie on the floor with knees bent and feet flat, holding dumbbells (or a bar) over your chest.",
        "Lower the weights until your upper arms gently touch the floor, keeping elbows about 30â€“45Â° from your torso.",
        "Pause briefly on the floor without relaxing your shoulders or letting elbows bounce.",
        "Press the weights back up to the start position, finishing with arms extended over mid-chest."
      ],
      youtube: "https://www.youtube.com/shorts/Kg8JD8l6ezw"
    }
  ];

  const cards = document.getElementById("cards");
  const modal = document.getElementById("modal");
  const modalTitle = document.getElementById("modalTitle");
  const modalImage = document.getElementById("modalImage");
  const modalSteps = document.getElementById("modalSteps");
  const modalYoutube = document.getElementById("modalYoutube");

  workouts.forEach(workout => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `<h3>${workout.title}</h3>`;
    card.onclick = () => showModal(workout);
    cards.appendChild(card);
  });

  function toYoutubeEmbedUrl(url) {
    try {
      const u = new URL(url);

      // youtu.be/<id>
      if (u.hostname.includes("youtu.be")) {
        const id = u.pathname.replace("/", "");
        return id ? `https://www.youtube.com/embed/${id}` : "";
      }

      // youtube.com/watch?v=<id>
      if (u.hostname.includes("youtube.com")) {
        const id = u.searchParams.get("v");
        if (id) return `https://www.youtube.com/embed/${id}`;

        // youtube.com/shorts/<id>
        const parts = u.pathname.split("/").filter(Boolean);
        const shortsIndex = parts.indexOf("shorts");
        if (shortsIndex !== -1 && parts[shortsIndex + 1]) {
          return `https://www.youtube.com/embed/${parts[shortsIndex + 1]}`;
        }

        // youtube.com/embed/<id>
        const embedIndex = parts.indexOf("embed");
        if (embedIndex !== -1 && parts[embedIndex + 1]) {
          return `https://www.youtube.com/embed/${parts[embedIndex + 1]}`;
        }
      }
    } catch (e) {}
    return "";
  }

  function showModal(workout) {
    modal.style.display = "block";
    modalTitle.textContent = workout.title;

    // keep image assignment for compatibility (even though hidden)
    modalImage.src = workout.image;

    // instructions
    modalSteps.innerHTML = "";
    if (Array.isArray(workout.steps) && workout.steps.length) {
      workout.steps.forEach(step => {
        const li = document.createElement("li");
        li.textContent = step;
        modalSteps.appendChild(li);
      });
    }

    // youtube embed
    const embedUrl = workout.youtube ? toYoutubeEmbedUrl(workout.youtube) : "";
    modalYoutube.src = embedUrl || "";
  }

  function closeModal() {
    modal.style.display = "none";
    modalYoutube.src = ""; // stop playback
  }

  window.onclick = e => {
    if (e.target === modal) closeModal();
  };

  const hamburger = document.getElementById("hamburger");
  const mobileMenu = document.getElementById("mobile-menu");

  hamburger.addEventListener("click", () => {
    mobileMenu.style.display =
      mobileMenu.style.display === "flex" ? "none" : "flex";
  });
</script>

</body>
</html>
